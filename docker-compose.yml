services:
  envrac-rust:
    build:
      context: ./run
      dockerfile: Dockerfile
    container_name: envrac-rust-app
    ports:
      - "3030:3030"
    environment:
      - GITHUB_API_TOKEN=${GITHUB_API_TOKEN}
      - GITHUB_USER_AGENT=${GITHUB_USER_AGENT}
      - TODOIST_API_TOKEN=${TODOIST_API_TOKEN}
      - EXECUTOR=${EXECUTOR}
      - SECRET=${SECRET}
    env_file:
      - ./run/.env
    restart: unless-stopped
